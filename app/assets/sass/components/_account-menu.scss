$grey-1: #4A4A4A;
$grey-2: #BFC1C3;
$grey-3: #DEE0E2;
$grey-4: #F8F8F8;
$light-blue: #2B8CC4;
$govuk-blue: #005EA5;
$focus-colour: #FFBF47;
$black: #000;
$canvas-colour: #f8f8f8;

/* Using SCSS variables to store breakpoints */
$breakpoint-tablet: 840px;

.hidden, .js-enabled .js-hidden, .js .js-hidden {
  display: none;
  visibility: hidden;
}

.account-menu {
  position: relative;
  display: flow-root;
  border-bottom: 1px solid $grey-2;
  margin-bottom: 0;
}

.account-menu__main {
  float: right;
  margin: initial;
  z-index: 995;

  li {
    display: inline-block;
    margin: initial;
    margin-bottom: 0px;
  }
}

.account-menu__link--home {
  float: left;
  padding: 12px 18px 8px 0;
}

.account-menu__link {
  box-sizing: border-box;
  display: block;
  padding: 12px 16px 8px;
  border-bottom: 4px solid transparent;
  color: $grey-1;
  font-size: 16px;
  font-weight: 300;
  line-height: 1.25;
  text-transform: none;
  text-decoration: none;

  &:visited {
    color: $grey-1;
  }

  &:hover,
  &:focus {
    border-bottom-style: solid;
    border-bottom-width: 4px;
    color: $light-blue;
  }

  &:hover {
    border-bottom-color: $grey-3;
  }

  &:focus {
    background-color: transparent;
    border-bottom-color: $focus-colour;
  }
  &:focus {
    outline: 3px solid $focus-colour;
    outline-offset: 0;
  }
}

.account-menu__link--active,
.account-menu__link--active:visited {
  border-bottom: 4px solid $govuk-blue;
  color: $black;
}

@media (max-width: $breakpoint-tablet) {

  #accountMenuButton {
    float: right;
  }

  .account-menu {
    border-bottom: 1px solid $grey-2;
    margin-bottom: 0;
    transition: none;
  
    &.main-nav-menu-is-open {
      margin-bottom: 5em;
    }
  
    li:last-of-type {
      a:last-of-type {
        padding-right: 0;
      }
    }
  }

  .account-menu__link {
    color: $black;
    padding-left: 10px;
  
    &:hover {
      color: $black;
    }
  }
  
  .account-menu__link--home{
    padding-left: 0;
  
    &:hover {
      border-bottom-color: transparent;
    }
  
    &:focus {
      border-bottom-color: $focus-colour;
      color: $light-blue;
    }
  
    &.account-menu__link--active {
      &:hover {
        border-bottom-color: $govuk-blue;
        color: $black;
      }
  
      &:focus {
        border-bottom-color: $focus-colour;
        color: $light-blue;
      }
    }
  }

  .account-menu__main {
    padding: 0;
    background-color: $canvas-colour;
    clear: both;
    float: none;

    li {
      border-bottom: 1px solid $grey-2;
      display: block;

      &:last-child {
        border-bottom: none;
      }
    }

    .account-menu__link {
      border-bottom: none;

      &:hover {
        border-bottom: none;
      }
    }
  }

}